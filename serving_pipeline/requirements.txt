# =============================================================================
# Cart-to-Purchase Serving Pipeline - Requirements
# Python 3.11 Compatible (Aligned with training/data pipelines)
# =============================================================================

# Core ML & Data Processing
numpy>=1.24.0,<2.0.0
pandas>=2.0.0,<2.3.0
scipy>=1.11.0,<1.14.0
scikit-learn>=1.3.0,<1.6.0
xgboost>=2.0.0,<2.2.0
joblib>=1.3.0,<1.5.0
threadpoolctl>=3.2.0,<3.6.0

# MLflow (Model Registry & Serving)
mlflow>=2.15.0,<2.20.0
mlflow-skinny>=2.15.0,<2.20.0
boto3>=1.34.0,<1.42.0
botocore>=1.34.0,<1.42.0
cloudpickle>=3.0.0,<3.2.0

# Web Framework - FastAPI
fastapi>=0.109.0,<0.116.0
uvicorn[standard]>=0.27.0,<0.32.0
pydantic>=2.5.0,<2.10.0
pydantic_core>=2.14.0,<2.28.0
starlette>=0.35.0,<0.42.0
python-multipart>=0.0.9,<0.1.0
httptools>=0.6.0,<0.7.0
uvloop>=0.19.0,<0.21.0
watchfiles>=0.21.0,<0.25.0
websockets>=12.0,<14.0

# Interactive UI - Gradio
gradio>=4.44.0,<5.0.0
gradio_client>=1.3.0,<2.0.0
ffmpy>=0.4.0,<0.5.0
pydub>=0.25.0,<0.26.0

# Alternative Web Framework - Flask (optional)
Flask>=3.0.0,<3.2.0
flask-cors>=4.0.0,<5.0.0
gunicorn>=21.0.0,<23.0.0
Werkzeug>=3.0.0,<3.2.0

# Feature Store
feast>=0.35.0,<0.40.0
redis>=5.0.0,<5.2.0
pyarrow>=14.0.0,<16.0.0

# Monitoring & Observability
prometheus_client>=0.19.0,<0.22.0
loguru>=0.7.0,<0.8.0
opentelemetry-api>=1.22.0,<1.28.0
opentelemetry-sdk>=1.22.0,<1.28.0
opentelemetry-exporter-otlp-proto-grpc>=1.22.0,<1.28.0

# Model Explainability
shap>=0.44.0,<0.46.0

# Data Validation & Serialization
orjson>=3.9.0,<3.11.0
msgspec>=0.18.0,<0.19.0
jsonschema>=4.20.0,<4.24.0

# HTTP Client
requests>=2.31.0,<2.33.0
httpx>=0.26.0,<0.28.0
aiohttp>=3.9.0,<3.11.0
aiofiles>=23.2.0,<24.2.0
anyio>=4.2.0,<4.5.0

# Configuration & Environment
python-dotenv>=1.0.0,<1.1.0
PyYAML>=6.0.0,<6.1.0
dynaconf>=3.2.0,<3.3.0
toml>=0.10.0,<0.11.0

# Database & ORM
SQLAlchemy>=2.0.0,<2.1.0
alembic>=1.13.0,<1.15.0
greenlet>=3.0.0,<3.1.0

# Async & Concurrency
asyncio-throttle>=1.0.0,<1.1.0
tenacity>=8.2.0,<8.4.0

# Security & Auth
cryptography>=41.0.0,<43.0.0
PyJWT>=2.8.0,<2.10.0
python-jose>=3.3.0,<3.4.0

# Visualization (for reports/dashboards)
matplotlib>=3.8.0,<3.10.0
seaborn>=0.13.0,<0.14.0
plotly>=5.18.0,<5.25.0
pillow>=10.0.0,<11.0.0

# Utilities
click>=8.1.0,<8.2.0
rich>=13.7.0,<14.0.0
tqdm>=4.66.0,<4.67.0
tabulate>=0.9.0,<0.10.0
python-dateutil>=2.8.0,<2.9.0
pytz>=2024.1
typing_extensions>=4.9.0,<4.12.0

# Testing (Dev Dependencies)
pytest>=7.4.0,<8.1.0
pytest-asyncio>=0.23.0,<0.24.0
pytest-cov>=4.1.0,<4.2.0

# Code Quality (Dev Dependencies)
black>=24.1.0,<24.5.0
isort>=5.13.0,<5.14.0
flake8>=7.0.0,<7.1.0
mypy>=1.8.0,<1.11.0

# gRPC (for OpenTelemetry & MLflow)
grpcio>=1.60.0,<1.65.0
grpcio-status>=1.60.0,<1.65.0
protobuf>=4.25.0,<5.0.0

# S3/MinIO Support
s3transfer>=0.10.0,<0.11.0
urllib3>=2.1.0,<2.3.0
certifi>=2024.2.0

# Templating (for HTML responses)
Jinja2>=3.1.0,<3.2.0
MarkupSafe>=2.1.0,<2.2.0
